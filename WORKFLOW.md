# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç - –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –æ—Ç —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤.

## üìã –û–±—â–∏–π –æ–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤:
1. **–°–±–æ—Ä –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö** (–ø–∞—Ä—Å–∏–Ω–≥)
2. **–ê–Ω–∞–ª–∏–∑ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤**

---

## üîÑ –≠—Ç–∞–ø 1: –°–±–æ—Ä –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –ó–∞–ø—É—Å–∫: `python main.py`

### –®–∞–≥ 1.1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```python
driver = setup_driver()        # –ó–∞–ø—É—Å–∫ Selenium –±—Ä–∞—É–∑–µ—Ä–∞
conn, cur = init_db()          # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
minio_client = init_minio()    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MinIO
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –°–æ–∑–¥–∞–µ—Ç—Å—è Chrome –±—Ä–∞—É–∑–µ—Ä —á–µ—Ä–µ–∑ Selenium —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç MinIO –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –°–æ–∑–¥–∞–µ—Ç—Å—è bucket –≤ MinIO, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç

**–ú–æ–¥—É–ª–∏:**
- `src/selenium_utils.py` - `setup_driver()`
- `src/storage.py` - `init_db()`, `init_minio()`

---

### –®–∞–≥ 1.2: –°–±–æ—Ä —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ç–æ–≤–∞—Ä—ã

```python
all_links = collect_product_links(driver)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –î–ª—è –∫–∞–∂–¥–æ–≥–æ URL –∏–∑ `CATALOG_URLS` (—Å–ø–∏—Å–æ–∫ –∫–∞—Ç–∞–ª–æ–≥–æ–≤):
   - –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞—Ç–∞–ª–æ–≥–∞
   - –û–∂–∏–¥–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –∫–ª–∞—Å—Å–æ–º `a.product-card`
   - –î–µ–ª–∞–µ—Ç—Å—è –ø–∞—É–∑–∞ 2-3 —Å–µ–∫—É–Ω–¥—ã (–∏–º–∏—Ç–∞—Ü–∏—è —á–µ–ª–æ–≤–µ–∫–∞)
   - HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–∞—Ä—Å–∏—Ç—Å—è —á–µ—Ä–µ–∑ BeautifulSoup
   - –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä—ã (`a.product-card[href]`)
   - –°—Å—ã–ª–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ –ø–æ–ª–Ω—ã–µ URL —á–µ—Ä–µ–∑ `urljoin()`
   - –î–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ `all_links` (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏)
   - –î–µ–ª–∞–µ—Ç—Å—è –ø–∞—É–∑–∞ 6-10 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –∫–∞—Ç–∞–ª–æ–≥–æ–º

2. –†–µ–∑—É–ª—å—Ç–∞—Ç: –º–Ω–æ–∂–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö URL —Ç–æ–≤–∞—Ä–æ–≤

**–ú–æ–¥—É–ª–∏:**
- `src/parser.py` - `collect_product_links()`
- `config/settings.py` - `CATALOG_URLS`, `PAUSE_CATALOG`

**–ü—Ä–∏–º–µ—Ä:**
```
üìÇ –°–±–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–æ–≤
   ‚Üí https://www.585zolotoy.ru/catalog/sergi-kongo-s-kamnyami/
     –Ω–∞–π–¥–µ–Ω–æ: 45
   ‚Üí https://www.585zolotoy.ru/catalog/sergi-kongo-s-zhemchugom/
     –Ω–∞–π–¥–µ–Ω–æ: 32
...
üßÆ –í—Å–µ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤: 312
```

---

### –®–∞–≥ 1.3: –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ü–∏–∫–ª:

```python
for link in all_links:
    product = parse_product_page(driver, link)
    # ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
```

#### –®–∞–≥ 1.3.1: –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞

```python
driver.get(url)
WebDriverWait(driver, 25).until(EC.presence_of_element_located((By.TAG_NAME, "body")))
sleep_rand(1.5, 2.5)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞
- –û–∂–∏–¥–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—ç–ª–µ–º–µ–Ω—Ç `body`)
- –î–µ–ª–∞–µ—Ç—Å—è –ø–∞—É–∑–∞ 1.5-2.5 —Å–µ–∫—É–Ω–¥—ã

#### –®–∞–≥ 1.3.2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```python
soup = BeautifulSoup(driver.page_source, "lxml")
```

**–ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**

1. **–ù–∞–∑–≤–∞–Ω–∏–µ (title)**
   - –ò—â–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç `<h1>`
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è

2. **–¶–µ–Ω–∞ (price)**
   - –°–Ω–∞—á–∞–ª–∞ –∏—â–µ—Ç—Å—è –≤ JSON-LD —Ä–∞–∑–º–µ—Ç–∫–µ (`script[type='application/ld+json']`)
   - –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –∏—â–µ—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ regex: `(\d[\d\s\u202f]+)\s*‚ÇΩ`
   - –£–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–æ–±–µ–ª—ã –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —á–∏—Å–ª–æ

3. **–û–ø–∏—Å–∞–Ω–∏–µ (description)**
   - –ò—â–µ—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–æ–∫ "–û —Ç–æ–≤–∞—Ä–µ" (`<h2>`)
   - –ù–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π `<div>` —Å —Ç–µ–∫—Å—Ç–æ–º –¥–ª–∏–Ω–Ω–µ–µ 120 —Å–∏–º–≤–æ–ª–æ–≤

4. **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (characteristics)**
   - –ò—â—É—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã `div.grid.grid-cols-2`
   - –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ - –ø–∞—Ä–∞ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
   - –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫

5. **URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (image_url)**
   - –ò—â–µ—Ç—Å—è –ø–µ—Ä–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ `img[src]`
   - –ï—Å–ª–∏ URL –≤ base64 —Ñ–æ—Ä–º–∞—Ç–µ (`/aHR0cHM6`), –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è

**–ú–æ–¥—É–ª–∏:**
- `src/parser.py` - `parse_product_page()`
- `src/extractors.py` - `extract_price()`, `extract_description()`, `extract_characteristics()`, `extract_image_url()`
- `utils/helpers.py` - `normalize_text()`, `normalize_image_url()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```python
{
    "url": "https://www.585zolotoy.ru/...",
    "title": "–°–µ—Ä—å–≥–∏ —Å –∫–∞–º–Ω—è–º–∏",
    "price": 25000,
    "description": "–ö—Ä–∞—Å–∏–≤—ã–µ —Å–µ—Ä—å–≥–∏...",
    "characteristics": {"–ú–∞—Ç–µ—Ä–∏–∞–ª": "–ó–æ–ª–æ—Ç–æ", "–ü—Ä–æ–±–∞": "585"},
    "image_url": "https://..."
}
```

---

#### –®–∞–≥ 1.3.3: –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```python
product = clean_product(product)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. **–û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞** (`clean_text()`):
   - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8
   - –ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –∏ —Ç–∞–±—É–ª—è—Ü–∏–π –Ω–∞ –ø—Ä–æ–±–µ–ª—ã
   - –£–¥–∞–ª–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–µ–ª–æ–≤
   - –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–≤–∏–¥–∏–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

2. **–û—á–∏—Å—Ç–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è** (`clean_title()`):
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `clean_text()`
   - –û–±—Ä–µ–∑–∫–∞ –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤

3. **–û—á–∏—Å—Ç–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è** (`clean_description()`):
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `clean_text()`
   - –û–±—Ä–µ–∑–∫–∞ –¥–æ 10000 —Å–∏–º–≤–æ–ª–æ–≤

4. **–û—á–∏—Å—Ç–∫–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫** (`clean_characteristics()`):
   - –û—á–∏—Å—Ç–∫–∞ –∫–ª—é—á–µ–π –∏ –∑–Ω–∞—á–µ–Ω–∏–π
   - –£–¥–∞–ª–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö –ø–∞—Ä
   - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª—é—á–µ–π (–ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è)

**–ú–æ–¥—É–ª–∏:**
- `cleaners/data_cleaner.py` - `clean_product()`, `clean_text()`, `clean_title()`, `clean_description()`, `clean_characteristics()`

---

#### –®–∞–≥ 1.3.4: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```python
is_valid, errors = validate_product(product)
if not is_valid:
    print(f"‚ö†Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {', '.join(errors)}")
    continue
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**

1. **URL** (`validate_url()`):
   - –î–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `http://` –∏–ª–∏ `https://`

2. **–¶–µ–Ω–∞** (`validate_price()`):
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ä–∞–∑—É–º–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö (0 < price < 10,000,000)

3. **–ù–∞–∑–≤–∞–Ω–∏–µ** (`validate_title()`):
   - –î–ª–∏–Ω–∞ –æ—Ç 3 –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤

4. **–û–ø–∏—Å–∞–Ω–∏–µ** (`validate_description()`):
   - –î–ª–∏–Ω–∞ –¥–æ 10000 —Å–∏–º–≤–æ–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

5. **URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (`validate_image_url()`):
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º URL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

6. **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏** (`validate_characteristics()`):
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–ø—É—Å—Ç—ã–º–∏ –∫–ª—é—á–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è

**–ú–æ–¥—É–ª–∏:**
- `utils/validators.py` - `validate_product()`, —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–ï—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞:** —Ç–æ–≤–∞—Ä –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è, –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö

---

#### –®–∞–≥ 1.3.5: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```python
pid = save_product(cur, product)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è SQL –∑–∞–ø—Ä–æ—Å:
```sql
INSERT INTO products (shop, product_url, title, price, description, characteristics)
VALUES (%s, %s, %s, %s, %s, %s)
ON CONFLICT (product_url) DO UPDATE SET
    price = EXCLUDED.price,
    description = EXCLUDED.description,
    characteristics = EXCLUDED.characteristics
RETURNING id;
```

2. **–ï—Å–ª–∏ —Ç–æ–≤–∞—Ä —É–∂–µ –µ—Å—Ç—å** (–ø–æ `product_url`):
   - –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è: —Ü–µ–Ω–∞, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ID

3. **–ï—Å–ª–∏ —Ç–æ–≤–∞—Ä–∞ –Ω–µ—Ç**:
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π ID

4. –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ JSON —Å—Ç—Ä–æ–∫–∞

**–ú–æ–¥—É–ª–∏:**
- `src/storage.py` - `save_product()`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã `products`:**
- `id` - –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- `shop` - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
- `product_url` - URL —Ç–æ–≤–∞—Ä–∞ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ
- `price` - —Ü–µ–Ω–∞
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ
- `characteristics` - JSON —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

---

#### –®–∞–≥ 1.3.6: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

```python
if product["image_url"]:
    tmp = download_temp_image(product["image_url"])
    obj = f"{SHOP_NAME}/products/{pid}/main.jpg"
    minio_client.fput_object(MINIO_BUCKET, obj, tmp, content_type="image/jpeg")
    save_image(cur, pid, product["image_url"], f"{MINIO_BUCKET}/{obj}")
    os.remove(tmp)
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (`download_temp_image()`):
   - HTTP –∑–∞–ø—Ä–æ—Å –∫ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª

2. **–ó–∞–≥—Ä—É–∑–∫–∞ –≤ MinIO**:
   - –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø—É—Ç—å: `{SHOP_NAME}/products/{product_id}/main.jpg`
   - –§–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ bucket `jewelry-images`
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è content-type: `image/jpeg`

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ –ë–î** (`save_image()`):
```sql
INSERT INTO product_images (product_id, image_url, storage_path, is_main)
VALUES (%s, %s, %s, true)
ON CONFLICT DO NOTHING;
```

4. **–£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞**

**–ú–æ–¥—É–ª–∏:**
- `utils/helpers.py` - `download_temp_image()`
- `src/storage.py` - `save_image()`, `init_minio()`

**–û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è:** –µ—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–∫–∞—á–∞—Ç—å/—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –Ω–æ —Ç–æ–≤–∞—Ä –≤—Å–µ —Ä–∞–≤–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

---

#### –®–∞–≥ 1.3.7: –ü–∞—É–∑–∞ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º —Ç–æ–≤–∞—Ä–æ–º

```python
sleep_rand(*PAUSE_CARD)  # –ü–∞—É–∑–∞ 3-6 —Å–µ–∫—É–Ω–¥
```

**–ó–∞—á–µ–º:** –∏–º–∏—Ç–∞—Ü–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å —Å–∞–π—Ç

---

### –®–∞–≥ 1.4: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞

```python
driver.quit()
cur.close()
conn.close()
print("üéâ –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω —É—Å–ø–µ—à–Ω–æ")
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä
- –ó–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î
- –í—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

---

## üìä –≠—Ç–∞–ø 2: –ê–Ω–∞–ª–∏–∑ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

### –ó–∞–ø—É—Å–∫: `python run_analysis.py`

### –®–∞–≥ 2.1: –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö

```python
quality_report = generate_quality_report()
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î:**
```python
df = load_data_from_db()  # –ó–∞–ø—Ä–æ—Å SELECT * FROM products
```

2. **–†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞:**

   a) **Completeness (–ü–æ–ª–Ω–æ—Ç–∞)** - –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ–π:
   ```python
   completeness[col] = (non_null_count / total_rows) * 100
   ```
   - –î–ª—è –∫–∞–∂–¥–æ–π –∫–æ–ª–æ–Ω–∫–∏ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ—Ü–µ–Ω—Ç –Ω–µ–ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

   b) **Consistency (–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
   - –ü–æ–¥—Å—á–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∑–∞–ø–∏—Å–µ–π
   - –ü–æ–¥—Å—á–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ URL

   c) **Accuracy (–¢–æ—á–Ω–æ—Å—Ç—å)**:
   - –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–Ω—ã
   - –ù—É–ª–µ–≤—ã–µ —Ü–µ–Ω—ã
   - –ü—É—Å—Ç—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
   - –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å URL

   d) **Validity (–í–∞–ª–∏–¥–Ω–æ—Å—Ç—å)**:
   - –ß–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ü–µ–Ω
   - –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å –¥–∞—Ç

3. **–û–±—â–∏–π score –∫–∞—á–µ—Å—Ç–≤–∞:**
```python
overall_score = (avg_completeness + consistency_score + accuracy_score) / 3
```

4. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞**

**–ú–æ–¥—É–ª–∏:**
- `quality/data_quality.py` - `assess_data_quality()`, `generate_quality_report()`
- `preprocessing/data_preprocessor.py` - `load_data_from_db()`

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
============================================================
–û–¢–ß–ï–¢ –û –ö–ê–ß–ï–°–¢–í–ï –î–ê–ù–ù–´–•
============================================================

–î–∞—Ç–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è: 2024-01-15 14:30:00

–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π: 312
–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫: 8

–û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê –ö–ê–ß–ï–°–¢–í–ê: 87.5/100

------------------------------------------------------------
–ü–û–õ–ù–û–¢–ê –î–ê–ù–ù–´–• (Completeness)
------------------------------------------------------------
‚úì title: 100.00%
‚úì price: 100.00%
‚ö† description: 85.30%
...
```

---

### –®–∞–≥ 2.2: –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

```python
analysis = analyze_products()
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

#### –®–∞–≥ 2.2.1: –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```python
df = preprocess_product_data(df)
```

1. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:**
   - –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
   - –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ (—Ü–µ–Ω–∞ –≤ numeric)

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤:**
   - –ß–∏—Å–ª–æ–≤—ã–µ: –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
   - –¢–µ–∫—Å—Ç–æ–≤—ã–µ: –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±—Ä–æ—Å–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   - –ú–µ—Ç–æ–¥ IQR –¥–ª—è —Ü–µ–Ω
   - –£–¥–∞–ª–µ–Ω–∏–µ –≤—ã–±—Ä–æ—Å–æ–≤

4. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏–∑ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫:**
   - –ü–∞—Ä—Å–∏–Ω–≥ JSON —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
   - –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

**–ú–æ–¥—É–ª–∏:**
- `preprocessing/data_preprocessor.py` - `preprocess_product_data()`

#### –®–∞–≥ 2.2.2: –†–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```python
stats = calculate_statistics(df)
```

**–ß—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è:**
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ü–µ–Ω–∞–º: mean, median, std, min, max, quartiles
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞–≥–∞–∑–∏–Ω–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –º–∞–≥–∞–∑–∏–Ω

**–ú–æ–¥—É–ª–∏:**
- `analytics/data_analyzer.py` - `calculate_statistics()`

#### –®–∞–≥ 2.2.3: –ê–Ω–∞–ª–∏–∑ —Ü–µ–Ω

```python
price_anal = price_analysis(df)
```

**–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è:**
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ü–µ–Ω–æ–≤—ã–º —Å–µ–≥–º–µ–Ω—Ç–∞–º (–Ω–∏–∑–∫–∏–π/—Å—Ä–µ–¥–Ω–∏–π/–≤—ã—Å–æ–∫–∏–π)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º:
  - –î–æ 10,000 —Ä—É–±.
  - 10,000 - 50,000 —Ä—É–±.
  - 50,000 - 100,000 —Ä—É–±.
  - –°–≤—ã—à–µ 100,000 —Ä—É–±.
- –°—Ä–µ–¥–Ω—è—è –∏ –º–µ–¥–∏–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞

**–ú–æ–¥—É–ª–∏:**
- `analytics/data_analyzer.py` - `price_analysis()`

#### –®–∞–≥ 2.2.4: –ê–Ω–∞–ª–∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```python
category_anal = category_analysis(df)
```

**–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è:**
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏–∑ URL (`/catalog/{category}/`)
- –ü–æ–¥—Å—á–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –ü–æ–¥—Å—á–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º

**–ú–æ–¥—É–ª–∏:**
- `analytics/data_analyzer.py` - `category_analysis()`

#### –®–∞–≥ 2.2.5: –ê–Ω–∞–ª–∏–∑ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫

```python
char_anal = characteristics_analysis(df)
```

**–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è:**
- –ü–∞—Ä—Å–∏–Ω–≥ JSON —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- –ü–æ–¥—Å—á–µ—Ç —á–∞—Å—Ç–æ—Ç—ã –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ (—Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤ –∏–º–µ—é—Ç –∫–∞–∂–¥—É—é —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É)

**–ú–æ–¥—É–ª–∏:**
- `analytics/data_analyzer.py` - `characteristics_analysis()`

#### –®–∞–≥ 2.2.6: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Å–∞–π—Ç–æ–≤

```python
insights = generate_insights(df)
```

**–§–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∫–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã:**
- –°—Ä–µ–¥–Ω—è—è –∏ –º–µ–¥–∏–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞
- –ù–∞–∏–±–æ–ª–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —Ü–µ–Ω–æ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤

**–ú–æ–¥—É–ª–∏:**
- `analytics/data_analyzer.py` - `generate_insights()`

**–ü—Ä–∏–º–µ—Ä:**
```
–ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã:
  1. –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞: 45,230 —Ä—É–±.
  2. –ú–µ–¥–∏–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞: 38,500 —Ä—É–±.
  3. –ù–∞–∏–±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ: 10000_50000 (156 —Ç–æ–≤–∞—Ä–æ–≤)
  4. –ù–∞–∏–±–æ–ª–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: sergi-kongo-s-kamnyami (45 —Ç–æ–≤–∞—Ä–æ–≤)
  5. –í—Å–µ–≥–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: 312
```

---

### –®–∞–≥ 2.3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π

```python
reports = generate_full_report()
# –í–Ω—É—Ç—Ä–∏: create_visualizations(df)
```

**–ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è:**

1. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω (`price_distribution.png`):**
   - –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–µ–Ω
   - Box plot –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–±—Ä–æ—Å–æ–≤

2. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (`category_distribution.png`):**
   - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è —Å—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞
   - –¢–æ–ø-15 –∫–∞—Ç–µ–≥–æ—Ä–∏–π

3. **–¶–µ–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (`price_by_category.png`):**
   - Box plot —Ü–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω–æ–≤—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤

**–ì–¥–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- `reports/visualizations/`

**–ú–æ–¥—É–ª–∏:**
- `visualization/data_visualizer.py` - `create_visualizations()`, `plot_price_distribution()`, `plot_category_distribution()`, `plot_price_by_category()`

---

### –®–∞–≥ 2.4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

```python
reports = generate_full_report()
```

**–ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è:**

1. **–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç (`analysis_report_{timestamp}.txt`):**
   - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   - –ê–Ω–∞–ª–∏–∑ —Ü–µ–Ω
   - –ê–Ω–∞–ª–∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã

2. **–û—Ç—á–µ—Ç –æ –∫–∞—á–µ—Å—Ç–≤–µ (`quality_report_{timestamp}.txt`):**
   - –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É –∞—Å–ø–µ–∫—Ç—É

3. **–°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç (`summary_report_{timestamp}.txt`):**
   - –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
   - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö

4. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏** (–≤ `reports/visualizations/`)

**–ì–¥–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- `reports/` - –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã
- `reports/visualizations/` - –≤—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏

**–ú–æ–¥—É–ª–∏:**
- `reports/report_generator.py` - `generate_full_report()`, `generate_analysis_report()`, `generate_quality_report_file()`, `generate_summary_report()`

---

## üîÑ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –≠–¢–ê–ü 1: –ü–ê–†–°–ò–ù–ì                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ  1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–ë–î, MinIO, Selenium)                    ‚îÇ
‚îÇ     ‚Üì                                                        ‚îÇ
‚îÇ  2. –°–±–æ—Ä —Å—Å—ã–ª–æ–∫ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–æ–≤                                ‚îÇ
‚îÇ     ‚Üì                                                        ‚îÇ
‚îÇ  3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞:                                     ‚îÇ
‚îÇ     ‚îú‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã                                    ‚îÇ
‚îÇ     ‚îú‚îÄ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (title, price, description, etc.) ‚îÇ
‚îÇ     ‚îú‚îÄ –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö                                       ‚îÇ
‚îÇ     ‚îú‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö                                     ‚îÇ
‚îÇ     ‚îú‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL                              ‚îÇ
‚îÇ     ‚îî‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ MinIO                       ‚îÇ
‚îÇ                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  –≠–¢–ê–ü 2: –ê–ù–ê–õ–ò–ó                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ  1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î                                   ‚îÇ
‚îÇ     ‚Üì                                                        ‚îÇ
‚îÇ  2. –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö                                    ‚îÇ
‚îÇ     ‚Üì                                                        ‚îÇ
‚îÇ  3. –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö                                  ‚îÇ
‚îÇ     ‚Üì                                                        ‚îÇ
‚îÇ  4. –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö (—Ü–µ–Ω—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏)        ‚îÇ
‚îÇ     ‚Üì                                                        ‚îÇ
‚îÇ  5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π                                  ‚îÇ
‚îÇ     ‚Üì                                                        ‚îÇ
‚îÇ  6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤                                       ‚îÇ
‚îÇ                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL

**–¢–∞–±–ª–∏—Ü–∞ `products`:**
```sql
CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    shop VARCHAR(255),
    product_url VARCHAR(500) UNIQUE,
    title TEXT,
    price INTEGER,
    description TEXT,
    characteristics JSONB,
    created_at TIMESTAMP DEFAULT NOW()
);
```

**–¢–∞–±–ª–∏—Ü–∞ `product_images`:**
```sql
CREATE TABLE product_images (
    id SERIAL PRIMARY KEY,
    product_id INTEGER REFERENCES products(id),
    image_url VARCHAR(500),
    storage_path VARCHAR(500),
    is_main BOOLEAN DEFAULT TRUE
);
```

### MinIO Storage

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
jewelry-images/
‚îî‚îÄ‚îÄ 585zolotoy/
    ‚îî‚îÄ‚îÄ products/
        ‚îú‚îÄ‚îÄ 1/
        ‚îÇ   ‚îî‚îÄ‚îÄ main.jpg
        ‚îú‚îÄ‚îÄ 2/
        ‚îÇ   ‚îî‚îÄ‚îÄ main.jpg
        ‚îî‚îÄ‚îÄ ...
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `config/settings.py`:

- `BASE_URL` - –±–∞–∑–æ–≤—ã–π URL —Å–∞–π—Ç–∞
- `SHOP_NAME` - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
- `CATALOG_URLS` - —Å–ø–∏—Å–æ–∫ URL –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- `DB_CONFIG` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `MINIO_CONFIG` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MinIO
- `PAUSE_CARD` - –ø–∞—É–∑–∞ –º–µ–∂–¥—É —Ç–æ–≤–∞—Ä–∞–º–∏ (—Å–µ–∫—É–Ω–¥—ã)
- `PAUSE_CATALOG` - –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∫–∞—Ç–∞–ª–æ–≥–∞–º–∏ (—Å–µ–∫—É–Ω–¥—ã)

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   python main.py
   ```

2. **–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   python run_analysis.py
   ```

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
   - –î–∞–Ω–Ω—ã–µ –≤ PostgreSQL
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ MinIO
   - –û—Ç—á–µ—Ç—ã –≤ `reports/`
   - –ì—Ä–∞—Ñ–∏–∫–∏ –≤ `reports/visualizations/`

